{"id":"moonjq-9cl","title":"Refactor moonjq for maintainability + performance","description":"Track refactor work for maintainability and performance in moonjq.","acceptance_criteria":"High-level refactor plan broken into trackable tasks; progress visible via bd list/ready.","status":"open","priority":2,"issue_type":"epic","owner":"bobzhang1988@gmail.com","created_at":"2026-01-19T23:21:36.384999+08:00","created_by":"Hongbo Zhang","updated_at":"2026-01-19T23:21:36.384999+08:00","labels":["maintainability","performance","refactor"]}
{"id":"moonjq-9cl.1","title":"Inventory public APIs and call sites","description":"Use moon doc and moon ide find-references to map exported APIs used by callers across packages.","acceptance_criteria":"List of exported symbols with usage notes and candidates to de-publicize or move to internal.","status":"open","priority":2,"issue_type":"task","owner":"bobzhang1988@gmail.com","created_at":"2026-01-19T23:21:36.437789+08:00","created_by":"Hongbo Zhang","updated_at":"2026-01-19T23:21:36.437789+08:00","labels":["maintainability","refactor"],"dependencies":[{"issue_id":"moonjq-9cl.1","depends_on_id":"moonjq-9cl","type":"parent-child","created_at":"2026-01-19T23:21:36.438427+08:00","created_by":"Hongbo Zhang"}]}
{"id":"moonjq-9cl.2","title":"Package boundary and internalization pass","description":"Review package responsibilities (root, ast, parser, internal helpers) and propose moves/splits to keep packages focused and dependencies acyclic.","acceptance_criteria":"Documented package responsibility map and actionable move/split list.","status":"open","priority":2,"issue_type":"task","owner":"bobzhang1988@gmail.com","created_at":"2026-01-19T23:21:36.490947+08:00","created_by":"Hongbo Zhang","updated_at":"2026-01-19T23:21:36.490947+08:00","labels":["maintainability","refactor"],"dependencies":[{"issue_id":"moonjq-9cl.2","depends_on_id":"moonjq-9cl","type":"parent-child","created_at":"2026-01-19T23:21:36.491513+08:00","created_by":"Hongbo Zhang"}]}
{"id":"moonjq-9cl.3","title":"Methodize core types","description":"Convert free helper functions into methods on core types (AST/Value/Token/etc.) where it improves discoverability and reduces parameter passing.","acceptance_criteria":"Candidate list and refactor plan; public API changes tracked.","status":"open","priority":2,"issue_type":"task","owner":"bobzhang1988@gmail.com","created_at":"2026-01-19T23:21:36.545189+08:00","created_by":"Hongbo Zhang","updated_at":"2026-01-19T23:21:36.545189+08:00","labels":["maintainability","refactor"],"dependencies":[{"issue_id":"moonjq-9cl.3","depends_on_id":"moonjq-9cl","type":"parent-child","created_at":"2026-01-19T23:21:36.545852+08:00","created_by":"Hongbo Zhang"}]}
{"id":"moonjq-9cl.4","title":"View types and pattern matching upgrade","description":"Replace array/string slicing copies with ArrayView/StringView and use pattern matching for clearer control flow.","acceptance_criteria":"Identified copy-heavy paths and planned replacements with tests.","notes":"Replaced Map to_array use with iter/values in core paths; avoided per-scan String allocations via StringView compare.","status":"closed","priority":2,"issue_type":"task","owner":"bobzhang1988@gmail.com","created_at":"2026-01-19T23:21:36.599868+08:00","created_by":"Hongbo Zhang","updated_at":"2026-01-19T23:27:59.266961+08:00","closed_at":"2026-01-19T23:27:59.266963+08:00","labels":["performance","refactor"],"dependencies":[{"issue_id":"moonjq-9cl.4","depends_on_id":"moonjq-9cl","type":"parent-child","created_at":"2026-01-19T23:21:36.600532+08:00","created_by":"Hongbo Zhang"}]}
{"id":"moonjq-9cl.5","title":"Loop style and invariants cleanup","description":"Replace index-based loops with range loops and add invariants for functional loops to clarify correctness.","acceptance_criteria":"Loop change list with invariants for algorithmic loops; no behavior change.","status":"open","priority":2,"issue_type":"task","owner":"bobzhang1988@gmail.com","created_at":"2026-01-19T23:21:36.654048+08:00","created_by":"Hongbo Zhang","updated_at":"2026-01-19T23:21:36.654048+08:00","labels":["maintainability","refactor"],"dependencies":[{"issue_id":"moonjq-9cl.5","depends_on_id":"moonjq-9cl","type":"parent-child","created_at":"2026-01-19T23:21:36.65465+08:00","created_by":"Hongbo Zhang"}]}
{"id":"moonjq-9cl.6","title":"Performance baseline and hotspot fixes","description":"Add measurement harness or lightweight timing for core interpreter paths; identify and fix top hotspots.","acceptance_criteria":"Baseline numbers recorded; hotspot list; at least one measurable improvement.","status":"open","priority":2,"issue_type":"task","owner":"bobzhang1988@gmail.com","created_at":"2026-01-19T23:21:36.709374+08:00","created_by":"Hongbo Zhang","updated_at":"2026-01-19T23:21:36.709374+08:00","labels":["performance","refactor"],"dependencies":[{"issue_id":"moonjq-9cl.6","depends_on_id":"moonjq-9cl","type":"parent-child","created_at":"2026-01-19T23:21:36.709966+08:00","created_by":"Hongbo Zhang"}]}
{"id":"moonjq-9cl.7","title":"Coverage-driven tests for refactor safety","description":"Run moon coverage analyze and add tests for uncovered branches in core paths.","acceptance_criteria":"Coverage gaps tracked; tests added; moon test green.","status":"open","priority":2,"issue_type":"task","owner":"bobzhang1988@gmail.com","created_at":"2026-01-19T23:21:36.764204+08:00","created_by":"Hongbo Zhang","updated_at":"2026-01-19T23:21:36.764204+08:00","labels":["maintainability","refactor"],"dependencies":[{"issue_id":"moonjq-9cl.7","depends_on_id":"moonjq-9cl","type":"parent-child","created_at":"2026-01-19T23:21:36.764845+08:00","created_by":"Hongbo Zhang"}]}
